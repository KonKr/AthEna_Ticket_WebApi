<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>AthEna Card Portal</title>

    <link rel="shortcut icon" href="oasaLogo.png" />
    
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">

    <!-- Bootsrap Javascript -->
    <script    src="https://code.jquery.com/jquery-3.3.1.js"    integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="    crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    
    <!-- Custom Css -->
    <link rel="stylesheet" href="style.css">

    <!-- Custom Js script -->
    <script src="dateTime.js"></script>
    <script src="script.js"></script>

</head>
<body>
    <!-- Navbar goes here... -->
    <nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light-custom" id="navId">
        <a class="navbar-brand mb-0 h1" href="#">
            <img src="oasaLogo.png" width="30" height="30" class="d-inline-block align-top" alt="">
            AthEna Card Portal
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto"> 
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="fas fa-users"></i> Manage Contacts With Cards
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="#GetContactsWithCards"><i class="fas fa-glasses"></i> Get All Contacts with associated cards</a>
                    <a class="dropdown-item" href="#CreateNewContactWithCard"><i class="fas fa-plus"></i> Create new Contact with associated card</a>
                    
                    </div>
                </li>

                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="fas fa-id-card"></i> Interact with Cards
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="#RechargeCard"><i class="fas fa-charging-station"></i> Recharge Card</a>
                    <a class="dropdown-item" href="#ValidateCardOnMetro"><i class="fas fa-subway"></i> Validate Card on Metro Station</a>
                    <a class="dropdown-item" href="#ValidateCardOnBus"><i class="fas fa-bus-alt"></i> Validate Card on a Bus</a>
                    
                    </div>
                </li>

                <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <i class="fas fa-toolbox"></i> Manage System (Admin)
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="#GetVehicles"><i class="fas fa-bus"></i> Get Vehicles</a>
                        <a class="dropdown-item" href="#CreateNewVehicle"><i class="fas fa-plus"></i> Create new Vehicle</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#GetRoutes"><i class="fas fa-route"></i> Get Routes</a>
                        <a class="dropdown-item" href="#CreateNewRoute"><i class="fas fa-plus"></i> Create new Route</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#GetMetroStations"><i class="fas fa-subway"></i> Get Metro Stations</a>
                        <a class="dropdown-item" href="#CreateNewMetroStation"><i class="fas fa-plus"></i></i> Create new Metro Station</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#GetValidationHistory"><i class="fas fa-search"></i> Get Validation History</a>                            
                        </div>
                </li>

            </ul>                
        </div>
    </nav>
    
    <!-- Carousel goes here... -->
    <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
        </ol>
        <div class="carousel-inner">
            <div class="carousel-item active ">
                <div class="carousel-instance1"></div>
                <div class="carousel-caption d-none d-md-block">
                    <h1 class="display-3"><i class="fas fa-cogs"></i></h1>
                    <h1 class="display-3">Manage Resources in just seconds!</h1><br>
                    <p>With AthEna Portal, you are able to manage system resources, vehicles, stations and routes, as fast as possible! </p>
                </div>
            </div>
            <div class="carousel-item">
                <div class="carousel-instance2"></div>
                <div class="carousel-caption d-none d-md-block">
                    <h1 class="display-3"><i class="fas fa-bolt"></i></h1>
                    <h1 class="display-3">Recharge your card fast!</h1><br>
                    <p>With Ath Ena Ticket Platform, you can easily recharge your AthEna card, and be able to use it instantly.</p>
                </div>
            </div>                
        </div> 
    </div>    

    <br><br>

    <!-- Container goes here... -->
        <div class="container">
            <!-- Manage contacts with cards -->
            <h1>Manage Contacts with Cards</h1>
            <p class="lead">In this section, we can either get all contacts and their associated cards or create a new one with just a simple API Call.</p>

            <h4 class="gray-custom" id="GetContactsWithCards">Get Contacts with associated cards</h4>
            <p class="lead">Returns a list of all contacts and cards found in the database.</p>
            <button type="button" class="btn btn-success" onclick="getContactsWithCardsAPI();">Get List</button> <br><br>
            <table class="table table-striped table-hover">
                <thead class="thead-light">
                    <tr>
                        <th scope="col">First Name</th>
                        <th scope="col">Last Name</th>
                        <th scope="col">ID Card Num</th>
                        <th scope="col">AthEna Card GUID</th>
                        <th scope="col">Card Registered on</th>
                        <th scope="col">Card Charge Expires on</th>
                    </tr>
                </thead>
                <tbody id="getContactsWithCards_TBody"></tbody>
            </table>

            <br>
            <h4 class="gray-custom" id="CreateNewContactWithCard" data-offset="500">Create a new Contact with associated card</h4>
            <p class="lead">Create a new Contact and a new AthEna card to be associated with.</p>
            <form onsubmit="createNewContactWithCard(FirstName.value, LastName.value, IdCardNum.value, SocialSecurityNum.value, event);" action="#">
                <div class="form-group-custom bg-light form-group">
                    <div class="col-sm-4">
                        <br>
                        <input type="text" name="FirstName" placeholder="First Name" class="form-control" required><br>
                        <input type="text" name="LastName" placeholder="Last Name" class="form-control" required /><br>
                        <input type="text" name="IdCardNum" placeholder="Identity Card Number" class="form-control" required /><br>
                        <input type="number" name="SocialSecurityNum" placeholder="Social Security Number" max="2147483647" class="form-control" required /><br>
                        <button type="submit" class="btn btn-info">Create New</button>
                    </div>
                </div>
            </form>
            
            <!-- Interact with Cards -->
            <h1>Interact with Cards</h1>
            <p class="lead">In this section, we can either charge a specific card or validate it on a metro station on embarkation/disembarkation or when boarding on a bus.</p>
            <h4 class="gray-custom" id="RechargeCard">Recharge Card</h4>
            <p class="lead">Updates the expiration date of the AthEna Card you wish to recharge.</p>
            <form onsubmit="rechargeCard(CardId.value, ChargeEuros.value, event);" action="#">
                <div class="form-group-custom bg-light form-group">
                    <div class="col-sm-4">
                        <br>
                        <input type="text" name="CardId" placeholder="AthEna Card GUID" class="form-control" required><br>
                        <select class="custom-select" name="ChargeEuros" required>
                            <option selected value="">Choose Charge Amount</option>
                            <option value="30">30</option>
                            <option value="60">60</option>
                            <option value="200">200</option>
                        </select><br><br>
                        <button type="submit" class="btn btn-info">Recharge Card</button>
                    </div>
                </div>
            </form>

            <h4 class="gray-custom" id="ValidateCardOnMetro">Validate Card On Metro</h4>
            <p class="lead">Validate an AthEna Card on a metro station either on embarkation or on disembarkation.</p>
            <form onsubmit="validateCardOnMetro(CardId.value, ValidatingAtStationId.value, ValidationOnEmbarkation.value, event);" action="#">
                <div class="form-group-custom bg-light form-group">
                    <div class="col-sm-4">
                        <br>
                        <input type="text" name="CardId" placeholder="AthEna Card GUID" class="form-control" required><br>
                        <input type="text" name="ValidatingAtStationId" placeholder="Metro Station GUID" class="form-control" required><br>
                        <select class="custom-select" name="ValidationOnEmbarkation" required>
                            <option selected value="">Select Action</option>
                            <option value="true">Embarkation</option>
                            <option value="false">Disembarkation</option>
                        </select>
                        <br><br>
                        <button type="submit" class="btn btn-info">Validate Card at Metro</button>
                    </div>
                </div>
            </form>

            <h4 class="gray-custom" id="ValidateCardOnBus">Validate Card on Bus</h4>
            <p class="lead">Validate an AthEna Card at bus on a specific route.</p>
            <form onsubmit="validateCardOnBus(RouteId.value, ValidatingCardId.value, ValidatingAtBusId.value, event);" action="#">
                <div class="form-group-custom bg-light form-group">
                    <div class="col-sm-4">
                        <br>
                        <input type="text" name="RouteId" placeholder="Route ID" class="form-control" required><br>
                        <input type="text" name="ValidatingCardId" placeholder="AthEna Card GUID" class="form-control" required><br>
                        <input type="text" name="ValidatingAtBusId" placeholder="Bus ID" class="form-control" required><br>
                        <button type="submit" class="btn btn-info">Validate Card on Bus</button>
                    </div>
                </div>
            </form>

            <!-- Manage System (Admin) -->
            <h1>Manage System (Admin)</h1>
            <p class="lead">In this section, resources of the system can be managed.</p>

            <h4 class="gray-custom" id="GetVehicles">Get Vehicles</h4>
            <p class="lead">Returns a list of All Vehicles in the database.</p>
            <button type="button" class="btn btn-success" onclick="getVehicles();">Get List</button> <br><br>
            <table class="table table-striped table-hover">
                <thead class="thead-light">
                    <tr>
                        <th scope="col">License Plate</th>
                        <th scope="col">Vehicle ID</th>
                    </tr>
                </thead>
                <tbody id="getVehicles_TBody"></tbody>
            </table>

            <br>
            <h4 class="gray-custom" id="CreateNewVehicle" data-offset="500">Create a new Vehicle</h4>
            <p class="lead">Creating a New Bus entry. Vehicle's License Plate is required.</p>
            <form onsubmit="createNewVehicle(Username.value, Password.value, LicensePlate.value, event);" action="#">
                <div class="form-group-custom bg-light form-group">
                    <div class="col-sm-4">
                        <br>
                        <p class="blockquote-footer"> Admin permission </p>
                        <input type="text" name="Username" placeholder="Username" class="form-control" required><br>
                        <input type="password" name="Password" placeholder="Password" class="form-control" required /><br>

                        <p class="blockquote-footer"> Input Data Required </p>
                        <input type="text" name="LicensePlate" placeholder="License Plate" class="form-control" required /><br>

                        <button type="submit" class="btn btn-info">Create New</button>
                    </div>
                </div>
            </form>

            <h4 class="gray-custom" id="GetRoutes">Get Routes</h4>
            <p class="lead">Returns a list of all routes contained in database.</p>
            <button type="button" class="btn btn-success" onclick="getRoutes();">Get Routes</button> <br><br>
            <table class="table table-striped table-hover">
                <thead class="thead-light">
                    <tr>
                        <th scope="col">Route Id</th>
                        <th scope="col">Route Code Num</th>
                        <th scope="col">Route Start Point</th>
                        <th scope="col">Route End Point</th>
                    </tr>
                </thead>
                <tbody id="getRoutes_TBody"></tbody>
            </table>

            <br>
            <h4 class="gray-custom" id="CreateNewRoute" data-offset="500">Create new Route</h4>
            <p class="lead">Create a new Bus Route to trasport across the whole city.</p>
            <form onsubmit="createNewRoute(Username.value, Password.value, RouteCodeNum.value, RouteEndPoint.value, RouteStartPoint.value, event);" action="#">
                <div class="form-group-custom bg-light form-group">
                    <div class="col-sm-4">
                        <br>
                        <p class="blockquote-footer"> Admin permission </p>
                        <input type="text" name="Username" placeholder="Username" class="form-control" required><br>
                        <input type="password" name="Password" placeholder="Password" class="form-control" required /><br>

                        <p class="blockquote-footer"> Input Data Required </p>
                        <input type="text" name="RouteCodeNum" placeholder="Route Code Num" class="form-control" required /><br>
                        <input type="text" name="RouteStartPoint" placeholder="Route Start Point" class="form-control" required /><br>
                        <input type="text" name="RouteEndPoint" placeholder="Route End Point" class="form-control" required /><br>

                        <button type="submit" class="btn btn-info">Create New</button>
                    </div>
                </div>
            </form>

            <h4 class="gray-custom" id="GetMetroStations">Get Metro Stations</h4>
            <p class="lead">Returns a list of all Metro Stations listed in database.</p>
            <button type="button" class="btn btn-success" onclick="getMetroStations();">Get Metro Stations</button> <br><br>
            <table class="table table-striped table-hover">
                <thead class="thead-light">
                    <tr>
                        <th scope="col">Station Id</th>
                        <th scope="col">Station Name</th>
                        <th scope="col">Line</th>
                        <th scope="col">Also On Line</th>
                    </tr>
                </thead>
                <tbody id="getMetroStations_TBody"></tbody>
            </table>

            <br>
            <h4 class="gray-custom" id="CreateNewMetroStation" data-offset="500">Create New Metro Station</h4>
            <p class="lead">Create New Metro Station with Station Name and the Line number.</p>
            <form onsubmit="createNewMetroStation(Username.value, Password.value, StationName.value, IsOnLine.value, event);" action="#">
                <div class="form-group-custom bg-light form-group">
                    <div class="col-sm-4">
                        <br>
                        <p class="blockquote-footer"> Admin permission </p>
                        <input type="text" name="Username" placeholder="Username" class="form-control" required><br>
                        <input type="password" name="Password" placeholder="Password" class="form-control" required /><br>

                        <p class="blockquote-footer"> Input Data Required </p>
                        <input type="text" name="StationName" placeholder="Station Name" class="form-control" required /><br>
                        <input type="number" name="IsOnLine" placeholder="Line Num" class="form-control" required /><br>

                        <button type="submit" class="btn btn-info">Create New</button>
                    </div>
                </div>
            </form>

            <h4 class="gray-custom" id="GetValidationHistory">Get Validation History</h4>
            <p class="lead">Returns a list of all Validations as on Embarkation as long as on Disembarkation for a specific days depth.</p>
            <div class="form-inline">
                <input type="number"  style=" margin-right:15px;" name="DDays" placeholder="Days Depth" class="form-control col-sm-3" required/> <button type="button" onclick="getValidationHistory();" class="btn btn-success">Get History</button>
            </div>
            <br>
                
            <div class="sub-container-for-table">
                <table class="table table-striped table-hover custom-max-size">
                    <thead class="thead-light">
                        <tr>
                            <th scope="col">Vactivity Id</th>
                            <th scope="col">Validated On</th>
                            <th scope="col">Validated At</th>
                            <th scope="col">Station Id</th>
                            <th scope="col">Bus Id</th>
                            <th scope="col">Route Id</th>
                            <th scope="col">Card Id</th>
    
                        </tr>
                    </thead>
                    <tbody id="getValidationHistory_TBody"></tbody>
                </table>
            </div>
            
            

        </div>

</body>
</html>